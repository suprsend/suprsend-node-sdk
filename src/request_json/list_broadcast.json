{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://github.com/suprsend/suprsend-node-sdk/request_json/list_broadcast.json",
  "title": "broadcast_request",
  "description": "Json schema for list broadcast request",
  "$comment": "Json schema for list broadcast request",
  "type": "object",
  "properties": {
    "$idempotency_key": {
      "type": ["string", "null"],
      "maxLength": 64,
      "description": "unique id provided by client for request"
    },
    "list_id": {
      "$ref": "#/definitions/non_empty_string",
      "description": "id of the list"
    },
    "template": {
      "$ref": "#/definitions/non_empty_string",
      "description": "slug of Template"
    },
    "notification_category": {
      "$ref": "#/definitions/non_empty_string",
      "description": "slug of Notification category"
    },
    "delay": {
      "type": ["string", "integer"],
      "minimum": 0,
      "description": "If string: format [XX]d[XX]h[XX]m[XX]s e.g 1d2h30m10s(for 1day 2hours 30minutes 10sec). If integer: value in number of seconds"
    },
    "trigger_at": {
      "$ref": "#/definitions/non_empty_string",
      "description": "timestamp in ISO-8601 format. e.g 2021-08-27T20:14:51.643Z"
    },
    "data": {
      "type": "object",
      "description": "variables to be used in workflow. e.g replacing templates variables."
    }
  },
  "required": ["list_id", "template", "notification_category", "data"],
  "definitions": {
    "non_empty_string": {
      "type": "string",
      "minLength": 2
    }
  }
}
